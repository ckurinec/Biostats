<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Chris K-urine-c">
<meta name="author" content="Umbrella Tamayonaise">

<title>Biostats Cheat Sheet</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Biostats Cheat Sheet</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#preface" id="toc-preface" class="nav-link active" data-scroll-target="#preface"><span class="header-section-number">1</span> Preface</a></li>
  <li><a href="#how-to-use-this-guide" id="toc-how-to-use-this-guide" class="nav-link" data-scroll-target="#how-to-use-this-guide"><span class="header-section-number">2</span> How to use this guide</a></li>
  <li><a href="#functions-and-for-play" id="toc-functions-and-for-play" class="nav-link" data-scroll-target="#functions-and-for-play"><span class="header-section-number">3</span> Functions and For-play</a>
  <ul class="collapse">
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions"><span class="header-section-number">3.1</span> Functions</a></li>
  <li><a href="#for-loops" id="toc-for-loops" class="nav-link" data-scroll-target="#for-loops"><span class="header-section-number">3.2</span> For Loops</a></li>
  </ul></li>
  <li><a href="#finding-a-dataset" id="toc-finding-a-dataset" class="nav-link" data-scroll-target="#finding-a-dataset"><span class="header-section-number">4</span> Finding a Dataset</a>
  <ul class="collapse">
  <li><a href="#reading-in-your-data" id="toc-reading-in-your-data" class="nav-link" data-scroll-target="#reading-in-your-data"><span class="header-section-number">4.1</span> Reading in your data</a></li>
  <li><a href="#importing-from-excel" id="toc-importing-from-excel" class="nav-link" data-scroll-target="#importing-from-excel"><span class="header-section-number">4.2</span> Importing from Excel</a></li>
  </ul></li>
  <li><a href="#exploring-data" id="toc-exploring-data" class="nav-link" data-scroll-target="#exploring-data"><span class="header-section-number">5</span> Exploring Data</a>
  <ul class="collapse">
  <li><a href="#looking-at-the-data" id="toc-looking-at-the-data" class="nav-link" data-scroll-target="#looking-at-the-data"><span class="header-section-number">5.1</span> Looking at the data</a></li>
  <li><a href="#structure-of-the-data" id="toc-structure-of-the-data" class="nav-link" data-scroll-target="#structure-of-the-data"><span class="header-section-number">5.2</span> Structure of the data</a></li>
  <li><a href="#class-and-names-of-variables" id="toc-class-and-names-of-variables" class="nav-link" data-scroll-target="#class-and-names-of-variables"><span class="header-section-number">5.3</span> Class and names of variables</a></li>
  <li><a href="#tables-and-plots-of-data" id="toc-tables-and-plots-of-data" class="nav-link" data-scroll-target="#tables-and-plots-of-data"><span class="header-section-number">5.4</span> Tables and plots of data</a></li>
  </ul></li>
  <li><a href="#cleaning-data" id="toc-cleaning-data" class="nav-link" data-scroll-target="#cleaning-data"><span class="header-section-number">6</span> Cleaning Data</a>
  <ul class="collapse">
  <li><a href="#identifying-variable-types-and-class" id="toc-identifying-variable-types-and-class" class="nav-link" data-scroll-target="#identifying-variable-types-and-class"><span class="header-section-number">6.1</span> Identifying variable types and class</a></li>
  <li><a href="#choosing-the-data-we-want" id="toc-choosing-the-data-we-want" class="nav-link" data-scroll-target="#choosing-the-data-we-want"><span class="header-section-number">6.2</span> Choosing the data we want</a></li>
  <li><a href="#duplicated-data" id="toc-duplicated-data" class="nav-link" data-scroll-target="#duplicated-data"><span class="header-section-number">6.3</span> Duplicated data</a></li>
  <li><a href="#recoding-data" id="toc-recoding-data" class="nav-link" data-scroll-target="#recoding-data"><span class="header-section-number">6.4</span> Recoding data</a></li>
  <li><a href="#addressing-nas" id="toc-addressing-nas" class="nav-link" data-scroll-target="#addressing-nas"><span class="header-section-number">6.5</span> Addressing NAs:</a></li>
  <li><a href="#identifying-nas" id="toc-identifying-nas" class="nav-link" data-scroll-target="#identifying-nas"><span class="header-section-number">6.6</span> Identifying NAs</a></li>
  <li><a href="#removing-nas" id="toc-removing-nas" class="nav-link" data-scroll-target="#removing-nas"><span class="header-section-number">6.7</span> Removing NAs</a></li>
  <li><a href="#simple-mean-imputation" id="toc-simple-mean-imputation" class="nav-link" data-scroll-target="#simple-mean-imputation"><span class="header-section-number">6.8</span> Simple mean imputation</a></li>
  <li><a href="#replacing-nas-with-last-next-observation" id="toc-replacing-nas-with-last-next-observation" class="nav-link" data-scroll-target="#replacing-nas-with-last-next-observation"><span class="header-section-number">6.9</span> Replacing NAs with last/ next observation</a></li>
  </ul></li>
  <li><a href="#manipulating-data" id="toc-manipulating-data" class="nav-link" data-scroll-target="#manipulating-data"><span class="header-section-number">7</span> Manipulating Data</a>
  <ul class="collapse">
  <li><a href="#changing-variable-class" id="toc-changing-variable-class" class="nav-link" data-scroll-target="#changing-variable-class"><span class="header-section-number">7.1</span> Changing variable class</a></li>
  <li><a href="#renaming-columns" id="toc-renaming-columns" class="nav-link" data-scroll-target="#renaming-columns"><span class="header-section-number">7.2</span> Renaming columns</a></li>
  <li><a href="#reordering-columns" id="toc-reordering-columns" class="nav-link" data-scroll-target="#reordering-columns"><span class="header-section-number">7.3</span> Reordering columns</a></li>
  <li><a href="#selecting-filtering-and-arranging" id="toc-selecting-filtering-and-arranging" class="nav-link" data-scroll-target="#selecting-filtering-and-arranging"><span class="header-section-number">7.4</span> Selecting, Filtering, and Arranging</a></li>
  <li><a href="#re-coding-values" id="toc-re-coding-values" class="nav-link" data-scroll-target="#re-coding-values"><span class="header-section-number">7.5</span> Re-coding values</a></li>
  <li><a href="#changing-data-with-mutate" id="toc-changing-data-with-mutate" class="nav-link" data-scroll-target="#changing-data-with-mutate"><span class="header-section-number">7.6</span> Changing data with mutate</a></li>
  <li><a href="#conditional-changes-with-ifelse" id="toc-conditional-changes-with-ifelse" class="nav-link" data-scroll-target="#conditional-changes-with-ifelse"><span class="header-section-number">7.7</span> Conditional changes with ifelse</a></li>
  <li><a href="#applying-changes-across-a-dataset" id="toc-applying-changes-across-a-dataset" class="nav-link" data-scroll-target="#applying-changes-across-a-dataset"><span class="header-section-number">7.8</span> Applying changes across a dataset</a></li>
  <li><a href="#reshaping-using-pivots" id="toc-reshaping-using-pivots" class="nav-link" data-scroll-target="#reshaping-using-pivots"><span class="header-section-number">7.9</span> Reshaping using pivots</a></li>
  </ul></li>
  <li><a href="#describing-and-summarizing-data" id="toc-describing-and-summarizing-data" class="nav-link" data-scroll-target="#describing-and-summarizing-data"><span class="header-section-number">8</span> Describing and Summarizing Data</a>
  <ul class="collapse">
  <li><a href="#range-and-spread" id="toc-range-and-spread" class="nav-link" data-scroll-target="#range-and-spread"><span class="header-section-number">8.1</span> Range and spread</a></li>
  <li><a href="#centrality" id="toc-centrality" class="nav-link" data-scroll-target="#centrality"><span class="header-section-number">8.2</span> Centrality</a></li>
  <li><a href="#variance-and-standard-deviation" id="toc-variance-and-standard-deviation" class="nav-link" data-scroll-target="#variance-and-standard-deviation"><span class="header-section-number">8.3</span> Variance and standard deviation</a></li>
  </ul></li>
  <li><a href="#visualizing-data" id="toc-visualizing-data" class="nav-link" data-scroll-target="#visualizing-data"><span class="header-section-number">9</span> Visualizing Data</a>
  <ul class="collapse">
  <li><a href="#single-numerical-variable-only" id="toc-single-numerical-variable-only" class="nav-link" data-scroll-target="#single-numerical-variable-only"><span class="header-section-number">9.1</span> Single numerical variable only</a></li>
  <li><a href="#single-categorical-only" id="toc-single-categorical-only" class="nav-link" data-scroll-target="#single-categorical-only"><span class="header-section-number">9.2</span> Single categorical only</a></li>
  <li><a href="#multiple-categorical-only" id="toc-multiple-categorical-only" class="nav-link" data-scroll-target="#multiple-categorical-only"><span class="header-section-number">9.3</span> Multiple categorical only</a></li>
  <li><a href="#one-numerical-and-one-or-more-categorical" id="toc-one-numerical-and-one-or-more-categorical" class="nav-link" data-scroll-target="#one-numerical-and-one-or-more-categorical"><span class="header-section-number">9.4</span> One numerical and one or more categorical</a></li>
  <li><a href="#one-or-more-numerical-and-one-or-more-categorical" id="toc-one-or-more-numerical-and-one-or-more-categorical" class="nav-link" data-scroll-target="#one-or-more-numerical-and-one-or-more-categorical"><span class="header-section-number">9.5</span> One or more numerical and one or more categorical</a></li>
  </ul></li>
  <li><a href="#analyzing-data" id="toc-analyzing-data" class="nav-link" data-scroll-target="#analyzing-data"><span class="header-section-number">10</span> Analyzing Data</a>
  <ul class="collapse">
  <li><a href="#t-test" id="toc-t-test" class="nav-link" data-scroll-target="#t-test"><span class="header-section-number">10.1</span> T-Test</a></li>
  <li><a href="#anova" id="toc-anova" class="nav-link" data-scroll-target="#anova"><span class="header-section-number">10.2</span> ANOVA</a></li>
  <li><a href="#linear-regressions" id="toc-linear-regressions" class="nav-link" data-scroll-target="#linear-regressions"><span class="header-section-number">10.3</span> Linear Regressions</a></li>
  <li><a href="#chi-square-test" id="toc-chi-square-test" class="nav-link" data-scroll-target="#chi-square-test"><span class="header-section-number">10.4</span> Chi-Square test</a></li>
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression"><span class="header-section-number">10.5</span> Logistic Regression</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">11</span> Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Biostats Cheat Sheet</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Chris K-urine-c </p>
             <p>Umbrella Tamayonaise </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<div class="cell">
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="preface" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="preface"><span class="header-section-number">1</span> Preface</h2>
<p>Hello! There are many different ways to do many different things. This cheat sheet is meant to help us get started with handling data. Some days it can be difficult to remember the expansive vocabulary that R uses, and some days we’re just tired and our brains don’t want to work. This guide is for those days, supplying a simple scaffolding to us to apply to our data so that we can actually use it. Again, there are many different ways to do many different things. Nothing in this document is right or wrong, but it is certainly something. Hopefully, that something is helpful.</p>
<p>-Chris</p>
</section>
<section id="how-to-use-this-guide" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="how-to-use-this-guide"><span class="header-section-number">2</span> How to use this guide</h2>
<p>This guide is written in something called a “Quarto” document. Quarto is an extension of R Markdown, which is R’s way of combing a notepad which we can free type like this, with a runnable R script like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Hello!"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello!"</code></pre>
</div>
</div>
<p>The vast majority of this guide with be examples of different R vocabularies and functions that are commonly used for each process. Each process is represented by its own section, such as “Exploring Data”. Many of these functions will repeat themselves in other sections, because there are no rules and I can do whatever I want.</p>
<p>This guide WILL be using the tidyverse package, since many of the functions we have learned about come from those packages.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Things that are NOT in this guide:</p>
<ol type="1">
<li>Stylistic choices</li>
<li>How to download R</li>
<li>How to find/ set a working directory</li>
<li>Precisely explaining what every function does</li>
<li>How to make your own Quarto document</li>
<li>Recipes for any kind of baked good</li>
</ol>
</section>
<section id="functions-and-for-play" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="functions-and-for-play"><span class="header-section-number">3</span> Functions and For-play</h2>
<p>Many of the codes within the guide are great on their own, but to save time and mental well-being we can combine many of these into our own functions and for loops that are specific to the problems we encounter within our specific datasets. In general, if you have to type a long sequence of code more than twice, just turn it into a function and call the function instead. These functions can also be used within loops and maps and you can generate some pretty creative solutions. Loops and maps are great for any monotonous task that nobody has time for, such as sampling 1000 times or running the same function over 150 different columns. These can get much more complicated and are worth playing around with.</p>
<section id="functions" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="functions"><span class="header-section-number">3.1</span> Functions</h3>
<p>Functions help you do a lot of things in R. That’s a pretty generic description, but basically you give R an input (could be x, but could be many different things), and R will give you whatever you want back. Honestly functions are super cool because you can do a lot of things with them. I’m sure there are much more sophisticated explanations out there, but the general format of a function in R is this:&nbsp;</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fx <span class="ot">&lt;-</span> <span class="cf">function</span>(x){   </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  fluff <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span> <span class="co"># can be whatever you want   </span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(fluff) </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">fx</span>(<span class="dv">4</span>) <span class="co"># should give us 16 </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
</div>
</section>
<section id="for-loops" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="for-loops"><span class="header-section-number">3.2</span> For Loops</h3>
<p>For loops help you run a function or desired manipulation across multiple values. This could be across multiple columns in a data set, which will save you a lot of time and stress in the long run, so you don’t spend hours trying to do the same function over and over again.</p>
<p>Here’s the basic format:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="co"># n would be the number of times you want this loop to run.  </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>n){</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  random_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  new_thing <span class="ot">&lt;-</span> <span class="fu">sample</span>(random_vector, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">replace =</span> T)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  do_something <span class="ot">&lt;-</span> <span class="fu">sum</span>(new_thing)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(do_something)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(do_something)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 100</code></pre>
</div>
</div>
<p>This will run 100 samples from this vector and sum &amp; square them. Not a very practical or useful example, but this just shows you what functions can do! You can put whatever your heart desires into those little brackets.</p>
</section>
</section>
<section id="finding-a-dataset" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="finding-a-dataset"><span class="header-section-number">4</span> Finding a Dataset</h2>
<p>You don’t have to harass a bunch of physicians in order to find a data et. In face, you really can just google them. Here are some websites to find all the datasets you could ever want:</p>
<ol type="1">
<li>Kaggle
<ol type="1">
<li><a href="https://www.kaggle.com/" class="uri">https://www.kaggle.com/</a></li>
</ol></li>
<li>Google Datasets
<ol type="1">
<li><a href="https://datasetsearch.research.google.com/" class="uri">https://datasetsearch.research.google.com/</a></li>
</ol></li>
<li>GitHub
<ol type="1">
<li><a href="https://github.com/" class="uri">https://github.com/</a></li>
</ol></li>
<li>Gumnit Data
<ol type="1">
<li><a href="https://data.gov/" class="uri">https://data.gov/</a></li>
</ol></li>
<li>NASA data
<ol type="1">
<li><a href="https://data.nasa.gov/browse?limitTo=datasets" class="uri">https://data.nasa.gov/browse?limitTo=datasets</a></li>
</ol></li>
</ol>
<p><strong>If you have found a data set and don’t know where to start, just go through these sections in order. You likely won’t need every function for every data set and you may need more.</strong></p>
<section id="reading-in-your-data" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="reading-in-your-data"><span class="header-section-number">4.1</span> Reading in your data</h3>
<p>Once you have your data (usually an excel or csv file), there are a few ways you can read it into your R script. There are some data sets already pre-loaded into the R universe, such as the diamonds data set that we often use in Biostats. I think csv files are superior to excel files, but I can’t honestly explain why, you could probably look it up though. My favorite ways to load in data are these:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in as a tibble</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>diamond_tibble <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"diamond.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 53940 Columns: 10
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (3): cut, color, clarity
dbl (7): carat, depth, table, price, x, y, z

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># when you use read_csv with an underscore, it's a tibble. WILD </span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in as a data frame</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>diamond_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"diamond.csv"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co"># when you read in read.csv with a period, it's a DATAFRAME. WILD</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Also, if you want to know the difference between tibbles and data frames, look it up in the textbook!</p>
</section>
<section id="importing-from-excel" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="importing-from-excel"><span class="header-section-number">4.2</span> Importing from Excel</h3>
<p>Sometimes the dataset that you’re looking at is not readily available as a csv, but it is as an Excel file (xlsx). Sure, you could open it in excel, clean it up, and convert it to a csv, but that’s one too many steps for me. I would recommend cleaning up the rows and columns in excel first, however. Many excel files have the first several rows as different labels cover many different columns, and sometimes they don’t even start at the top right cell and the entire dataset is randomly in the center of the spreadsheet. You can fix this in R, but excel is much quicker if you can since you can just drag and select the data you want then save that data as another xlsx file. Then you can import into R!</p>
<p>First, make sure you set your working directory where it needs to be. Then, click the “Files” tab (in the lower right quadrant of RStudio by default).</p>
<p><img src="images/Screenshot 2023-11-01 115929.png" class="img-fluid"></p>
<p>Here, you’ll see all of the files within your current working directory. You can move in and out of this directory to find the data set you want if needed. Once you find your xlsx file, click it and select “Import Dataset”.</p>
<p><img src="images/Screenshot 2023-11-01 120300.png" class="img-fluid"></p>
<p>This will pull up a large pop-up menu. This menu will provide a preview of how R thinks the excel file should look in R. Pay attention to the rows and columns in the preview. If the excel file had many different section headers, this file may look wonky and you may need to rearrange it in excel first. Remember that R can also make the first column the row names, so if that column existed in excel you may end up with 2 columns of called No.&nbsp;containing 1, 2, 3, 4, and so on.</p>
<p>In the bottom right of this pop-up, you will find the R code to copy and paste into your R script in order to import the xlsx file. I prefer to copy the code, close out of the window, and paste directly into my script. You could also just click “Import” in the bottom right, but that will only load your data into your environment and you will not have any code written to reset it if needed.</p>
<p><img src="images/Screenshot 2023-11-01 120448.png" class="img-fluid"></p>
<p>And that’s it! Now you can run the code provided to import your Excel file and have so much fun. All of your friends will be jealous, and you can sell them this information for money, thus solving any financial problems too. Its the gift that just keeps giving.</p>
</section>
</section>
<section id="exploring-data" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="exploring-data"><span class="header-section-number">5</span> Exploring Data</h2>
<p>Exploring your data does not refer to anything complicated. This is the first step after downloading your data set. We need to look at it, and see what the heck is going on in there. Looking at our data, we want to understand how many rows and columns there are, what classes (numerical, categorical, factor, etc.) are our variables, how many unique observations are there, what different names are used throughout the data, and so on. If we do not know what our data looks like, it will be pretty difficult to know what to do next.</p>
<p>So here’s some common functions we can use for this:</p>
<section id="looking-at-the-data" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="looking-at-the-data"><span class="header-section-number">5.1</span> Looking at the data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the entire dataset in another window</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(diamonds)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># View the first 6 rows of a dataset</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 10
  carat cut       color clarity depth table price     x     y     z
  &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  0.23 Ideal     E     SI2      61.5    55   326  3.95  3.98  2.43
2  0.21 Premium   E     SI1      59.8    61   326  3.89  3.84  2.31
3  0.23 Good      E     VS1      56.9    65   327  4.05  4.07  2.31
4  0.29 Premium   I     VS2      62.4    58   334  4.2   4.23  2.63
5  0.31 Good      J     SI2      63.3    58   335  4.34  4.35  2.75
6  0.24 Very Good J     VVS2     62.8    57   336  3.94  3.96  2.48</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the last 6 rows of a dataset</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 10
  carat cut       color clarity depth table price     x     y     z
  &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1  0.72 Premium   D     SI1      62.7    59  2757  5.69  5.73  3.58
2  0.72 Ideal     D     SI1      60.8    57  2757  5.75  5.76  3.5 
3  0.72 Good      D     SI1      63.1    55  2757  5.69  5.75  3.61
4  0.7  Very Good D     SI1      62.8    60  2757  5.66  5.68  3.56
5  0.86 Premium   H     SI2      61      58  2757  6.15  6.12  3.74
6  0.75 Ideal     D     SI2      62.2    55  2757  5.83  5.87  3.64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List of variables with additional info by class</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     carat               cut        color        clarity          depth      
 Min.   :0.2000   Fair     : 1610   D: 6775   SI1    :13065   Min.   :43.00  
 1st Qu.:0.4000   Good     : 4906   E: 9797   VS2    :12258   1st Qu.:61.00  
 Median :0.7000   Very Good:12082   F: 9542   SI2    : 9194   Median :61.80  
 Mean   :0.7979   Premium  :13791   G:11292   VS1    : 8171   Mean   :61.75  
 3rd Qu.:1.0400   Ideal    :21551   H: 8304   VVS2   : 5066   3rd Qu.:62.50  
 Max.   :5.0100                     I: 5422   VVS1   : 3655   Max.   :79.00  
                                    J: 2808   (Other): 2531                  
     table           price             x                y         
 Min.   :43.00   Min.   :  326   Min.   : 0.000   Min.   : 0.000  
 1st Qu.:56.00   1st Qu.:  950   1st Qu.: 4.710   1st Qu.: 4.720  
 Median :57.00   Median : 2401   Median : 5.700   Median : 5.710  
 Mean   :57.46   Mean   : 3933   Mean   : 5.731   Mean   : 5.735  
 3rd Qu.:59.00   3rd Qu.: 5324   3rd Qu.: 6.540   3rd Qu.: 6.540  
 Max.   :95.00   Max.   :18823   Max.   :10.740   Max.   :58.900  
                                                                  
       z         
 Min.   : 0.000  
 1st Qu.: 2.910  
 Median : 3.530  
 Mean   : 3.539  
 3rd Qu.: 4.040  
 Max.   :31.800  
                 </code></pre>
</div>
</div>
</section>
<section id="structure-of-the-data" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="structure-of-the-data"><span class="header-section-number">5.2</span> Structure of the data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View a list of all variables with variable type</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 53,940
Columns: 10
$ carat   &lt;dbl&gt; 0.23, 0.21, 0.23, 0.29, 0.31, 0.24, 0.24, 0.26, 0.22, 0.23, 0.…
$ cut     &lt;ord&gt; Ideal, Premium, Good, Premium, Good, Very Good, Very Good, Ver…
$ color   &lt;ord&gt; E, E, E, I, J, J, I, H, E, H, J, J, F, J, E, E, I, J, J, J, I,…
$ clarity &lt;ord&gt; SI2, SI1, VS1, VS2, SI2, VVS2, VVS1, SI1, VS2, VS1, SI1, VS1, …
$ depth   &lt;dbl&gt; 61.5, 59.8, 56.9, 62.4, 63.3, 62.8, 62.3, 61.9, 65.1, 59.4, 64…
$ table   &lt;dbl&gt; 55, 61, 65, 58, 58, 57, 57, 55, 61, 61, 55, 56, 61, 54, 62, 58…
$ price   &lt;int&gt; 326, 326, 327, 334, 335, 336, 336, 337, 337, 338, 339, 340, 34…
$ x       &lt;dbl&gt; 3.95, 3.89, 4.05, 4.20, 4.34, 3.94, 3.95, 4.07, 3.87, 4.00, 4.…
$ y       &lt;dbl&gt; 3.98, 3.84, 4.07, 4.23, 4.35, 3.96, 3.98, 4.11, 3.78, 4.05, 4.…
$ z       &lt;dbl&gt; 2.43, 2.31, 2.31, 2.63, 2.75, 2.48, 2.47, 2.53, 2.49, 2.39, 2.…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View a list of all variables with variable class</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [53,940 × 10] (S3: tbl_df/tbl/data.frame)
 $ carat  : num [1:53940] 0.23 0.21 0.23 0.29 0.31 0.24 0.24 0.26 0.22 0.23 ...
 $ cut    : Ord.factor w/ 5 levels "Fair"&lt;"Good"&lt;..: 5 4 2 4 2 3 3 3 1 3 ...
 $ color  : Ord.factor w/ 7 levels "D"&lt;"E"&lt;"F"&lt;"G"&lt;..: 2 2 2 6 7 7 6 5 2 5 ...
 $ clarity: Ord.factor w/ 8 levels "I1"&lt;"SI2"&lt;"SI1"&lt;..: 2 3 5 4 2 6 7 3 4 5 ...
 $ depth  : num [1:53940] 61.5 59.8 56.9 62.4 63.3 62.8 62.3 61.9 65.1 59.4 ...
 $ table  : num [1:53940] 55 61 65 58 58 57 57 55 61 61 ...
 $ price  : int [1:53940] 326 326 327 334 335 336 336 337 337 338 ...
 $ x      : num [1:53940] 3.95 3.89 4.05 4.2 4.34 3.94 3.95 4.07 3.87 4 ...
 $ y      : num [1:53940] 3.98 3.84 4.07 4.23 4.35 3.96 3.98 4.11 3.78 4.05 ...
 $ z      : num [1:53940] 2.43 2.31 2.31 2.63 2.75 2.48 2.47 2.53 2.49 2.39 ...</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the total number of rows and columns</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53940    10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the total number of columns</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the total number of columns</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the total number of rows</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 53940</code></pre>
</div>
</div>
</section>
<section id="class-and-names-of-variables" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="class-and-names-of-variables"><span class="header-section-number">5.3</span> Class and names of variables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the variable names of a dataset. Can be used on a vector</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "carat"   "cut"     "color"   "clarity" "depth"   "table"   "price"  
 [8] "x"       "y"       "z"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the class of a variable, such as numerical or factor</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View all values without repeats</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(diamonds<span class="sc">$</span>cut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Ideal     Premium   Good      Very Good Fair     
Levels: Fair &lt; Good &lt; Very Good &lt; Premium &lt; Ideal</code></pre>
</div>
</div>
</section>
<section id="tables-and-plots-of-data" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="tables-and-plots-of-data"><span class="header-section-number">5.4</span> Tables and plots of data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a table of counts with totals added</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cut, color) <span class="sc">|&gt;</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">|&gt;</span> </span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addmargins</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           color
cut             D     E     F     G     H     I     J   Sum
  Fair        163   224   312   314   303   175   119  1610
  Good        662   933   909   871   702   522   307  4906
  Very Good  1513  2400  2164  2299  1824  1204   678 12082
  Premium    1603  2337  2331  2924  2360  1428   808 13791
  Ideal      2834  3903  3826  4884  3115  2093   896 21551
  Sum        6775  9797  9542 11292  8304  5422  2808 53940</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a table of proportions </span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>diamonds<span class="sc">$</span>cut <span class="sc">|&gt;</span> </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">|&gt;</span> </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">prop.table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
      Fair       Good  Very Good    Premium      Ideal 
0.02984798 0.09095291 0.22398962 0.25567297 0.39953652 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a histogram of a continuous variable to check distribution</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(price))) <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="fl">0.3</span>, </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">fill =</span> <span class="st">"turquoise"</span>) <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"On the 'Gram"</span>, <span class="at">x =</span> <span class="st">"log(price)"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot a bar plot of a categorical variable to check distribution</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> cut)) <span class="sc">+</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"At the Bar"</span>, <span class="at">x =</span> <span class="st">"Cut"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="cleaning-data" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="cleaning-data"><span class="header-section-number">6</span> Cleaning Data</h2>
<p>Unfortunately, this step does not include soap. But that shouldn’t stop you from using any. Clean data is the data that you want. All of the variables are the correct class, any missing or duplicate data is identified and addressed, any values that need to be re-coded are taken care of, and that we’re left with data that we actually care about. Well, as much as a person “could” care about data.</p>
<p>Anyways, more functions:</p>
<section id="identifying-variable-types-and-class" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="identifying-variable-types-and-class"><span class="header-section-number">6.1</span> Identifying variable types and class</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View a list of all variables with variable class</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(diamonds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 53,940
Columns: 10
$ carat   &lt;dbl&gt; 0.23, 0.21, 0.23, 0.29, 0.31, 0.24, 0.24, 0.26, 0.22, 0.23, 0.…
$ cut     &lt;ord&gt; Ideal, Premium, Good, Premium, Good, Very Good, Very Good, Ver…
$ color   &lt;ord&gt; E, E, E, I, J, J, I, H, E, H, J, J, F, J, E, E, I, J, J, J, I,…
$ clarity &lt;ord&gt; SI2, SI1, VS1, VS2, SI2, VVS2, VVS1, SI1, VS2, VS1, SI1, VS1, …
$ depth   &lt;dbl&gt; 61.5, 59.8, 56.9, 62.4, 63.3, 62.8, 62.3, 61.9, 65.1, 59.4, 64…
$ table   &lt;dbl&gt; 55, 61, 65, 58, 58, 57, 57, 55, 61, 61, 55, 56, 61, 54, 62, 58…
$ price   &lt;int&gt; 326, 326, 327, 334, 335, 336, 336, 337, 337, 338, 339, 340, 34…
$ x       &lt;dbl&gt; 3.95, 3.89, 4.05, 4.20, 4.34, 3.94, 3.95, 4.07, 3.87, 4.00, 4.…
$ y       &lt;dbl&gt; 3.98, 3.84, 4.07, 4.23, 4.35, 3.96, 3.98, 4.11, 3.78, 4.05, 4.…
$ z       &lt;dbl&gt; 2.43, 2.31, 2.31, 2.63, 2.75, 2.48, 2.47, 2.53, 2.49, 2.39, 2.…</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the class of a variable or dataframe</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the unique levels within an ordinal factor. </span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># The order of these levels matter</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(diamonds<span class="sc">$</span>cut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Fair"      "Good"      "Very Good" "Premium"   "Ideal"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the non-repeating unique values</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(diamonds<span class="sc">$</span>cut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Ideal     Premium   Good      Very Good Fair     
Levels: Fair &lt; Good &lt; Very Good &lt; Premium &lt; Ideal</code></pre>
</div>
</div>
</section>
<section id="choosing-the-data-we-want" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="choosing-the-data-we-want"><span class="header-section-number">6.2</span> Choosing the data we want</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only selects the variables chosen</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cut, color)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 2
   cut       color
   &lt;ord&gt;     &lt;ord&gt;
 1 Ideal     E    
 2 Premium   E    
 3 Good      E    
 4 Premium   I    
 5 Good      J    
 6 Very Good J    
 7 Very Good I    
 8 Very Good H    
 9 Fair      E    
10 Very Good H    
# ℹ 53,930 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only considers observations which meet the criteria specified</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(color <span class="sc">==</span> <span class="st">"D"</span>, carat <span class="sc">&gt;=</span> <span class="fu">mean</span>(carat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,000 × 10
   carat cut       color clarity depth table price     x     y     z
   &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  0.91 Ideal     D     SI2      62.2    57  2803  6.21  6.15  3.85
 2  0.81 Premium   D     SI2      59.2    57  2809  6.15  6.05  3.61
 3  0.83 Very Good D     SI1      63.5    54  2811  5.98  5.95  3.79
 4  0.92 Ideal     D     SI2      61.9    56  2840  6.27  6.2   3.86
 5  0.8  Very Good D     SI2      62.5    59  2862  5.88  5.92  3.69
 6  1.08 Premium   D     I1       61.9    60  2869  6.55  6.48  4.03
 7  0.9  Fair      D     SI2      66.9    57  2885  6.02  5.9   3.99
 8  0.83 Very Good D     SI2      63.1    57  2918  5.95  5.9   3.74
 9  0.8  Very Good D     SI1      58.2    63  2925  6.07  6.03  3.52
10  0.81 Good      D     SI2      63.6    55  2926  5.91  5.86  3.74
# ℹ 1,990 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shows the non-repeating values </span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(diamonds<span class="sc">$</span>clarity)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] SI2  SI1  VS1  VS2  VVS2 VVS1 I1   IF  
Levels: I1 &lt; SI2 &lt; SI1 &lt; VS2 &lt; VS1 &lt; VVS2 &lt; VVS1 &lt; IF</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Randomly selects values of the size and distribution specified. </span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co"># "replace" determines whether a value can occur more than once. </span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>diamonds<span class="sc">$</span>carat <span class="sc">|&gt;</span> </span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.80 0.56 1.50 0.31 0.94</code></pre>
</div>
</div>
</section>
<section id="duplicated-data" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="duplicated-data"><span class="header-section-number">6.3</span> Duplicated data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a vector with a value occuring more than once</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>example.vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Gives a logical answer to whether a value has occured before</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="fu">duplicated</span>(example.vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE  TRUE FALSE FALSE FALSE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gives all non-repeating values</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(example.vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
</div>
</section>
<section id="recoding-data" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="recoding-data"><span class="header-section-number">6.4</span> Recoding data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-labels values from the old value, to the new</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">recode</span>(example.vector, <span class="st">"1"</span> <span class="ot">=</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7 7 2 3 4</code></pre>
</div>
</div>
</section>
<section id="addressing-nas" class="level3" data-number="6.5">
<h3 data-number="6.5" class="anchored" data-anchor-id="addressing-nas"><span class="header-section-number">6.5</span> Addressing NAs:</h3>
<p>Missing values are about as complicated as you want them to be. For that reason, I will NOT be going over how to decide whether your data is missing completely at random (MCAR), missing at random (MAR), missing not at random (MNAR), or what the best practice for imputation will be for your specific data set. In general, NAs are either removed, imputed by the mean, replaced by the value before or after it, or predicted using the information around it (pmm, knn, rf, “mice” package, etc.). Look these strategies up at your own risk, it’ll take your entire weekend.</p>
</section>
<section id="identifying-nas" class="level3" data-number="6.6">
<h3 data-number="6.6" class="anchored" data-anchor-id="identifying-nas"><span class="header-section-number">6.6</span> Identifying NAs</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a vector with 3 NAs</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>example.vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="cn">NA</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Counts the total number of NAs in the vector</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(example.vector))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shows which cell the NAs are located</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">is.na</span>(example.vector))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 4 7</code></pre>
</div>
</div>
</section>
<section id="removing-nas" class="level3" data-number="6.7">
<h3 data-number="6.7" class="anchored" data-anchor-id="removing-nas"><span class="header-section-number">6.7</span> Removing NAs</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shows only the observations without NAs (specify [row, col] if using dataframe)</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>example.vector[<span class="fu">complete.cases</span>(example.vector)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Another way to show only the observations without NAs</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>example.vector[<span class="sc">!</span><span class="fu">is.na</span>(example.vector)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3 4 5</code></pre>
</div>
</div>
</section>
<section id="simple-mean-imputation" class="level3" data-number="6.8">
<h3 data-number="6.8" class="anchored" data-anchor-id="simple-mean-imputation"><span class="header-section-number">6.8</span> Simple mean imputation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identifies the mean of our vector WITHOUT NAs</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(example.vector[<span class="sc">!</span><span class="fu">is.na</span>(example.vector)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Overwrites the NAs in our vector with the value determined above</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>example.vector[<span class="fu">is.na</span>(example.vector)] <span class="ot">&lt;-</span> </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(example.vector[<span class="sc">!</span><span class="fu">is.na</span>(example.vector)])</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>example.vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.5 2.0 3.0 3.5 4.0 5.0 3.5</code></pre>
</div>
</div>
</section>
<section id="replacing-nas-with-last-next-observation" class="level3" data-number="6.9">
<h3 data-number="6.9" class="anchored" data-anchor-id="replacing-nas-with-last-next-observation"><span class="header-section-number">6.9</span> Replacing NAs with last/ next observation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co">#The fill() function only works on a dataframe. So we create one</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>example.vector <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">c</span>(<span class="cn">NA</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="cn">NA</span>))</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>example.vector <span class="sc">|&gt;</span> </span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>() <span class="ot">&lt;-</span> <span class="st">"example"</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>example.vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  example
1      NA
2       2
3       3
4      NA
5       4
6       5
7      NA</code></pre>
</div>
</div>
<p>In the “fill” function, direction determines whether values are carried from above or below. In this case, The NAs are replaced with the value above it (down) first, leaving only the first NA. Then, the NAs are replaced with the value below it (up) in order to ensure no leading or trailing NAs. This also works on blank cells.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>example.vector <span class="sc">|&gt;</span> </span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(<span class="fu">everything</span>(), <span class="at">.direction =</span> <span class="st">"downup"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  example
1       2
2       2
3       3
4       3
5       4
6       5
7       5</code></pre>
</div>
</div>
<p>Prediction with KNN, RF, PMM, etc. is waaaay beyong this guide.</p>
</section>
</section>
<section id="manipulating-data" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="manipulating-data"><span class="header-section-number">7</span> Manipulating Data</h2>
<p>We shouldn’t judge a book by a cover. Unless its a data set, and we need the tools to set them straight. Manipulating data is self-explanatory. We take what data we have, and smack it around until it gives us the answers we need. This includes renaming, reordering, changing class, selecting, re-coding, changing, joining, and reshaping data.</p>
<p>No functions this time. You’ve had enough.</p>
<p>Just kidding, they’re right here:</p>
<section id="changing-variable-class" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="changing-variable-class"><span class="header-section-number">7.1</span> Changing variable class</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new version any time you plan on making permanent changes</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="ot">&lt;-</span> diamonds</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Changes cut from a categorical variable to a factor with ordinal levels</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>diamonds2<span class="sc">$</span>cut <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(diamonds2<span class="sc">$</span>cut)</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Shows the class of the cut variable</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(diamonds2<span class="sc">$</span>cut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "ordered" "factor" </code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Shows the different levels of the cut variable. The order here matters. </span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(diamonds2<span class="sc">$</span>cut)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Fair"      "Good"      "Very Good" "Premium"   "Ideal"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Changing the levels and labels of the cut variable. The order here matters.</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="ot">&lt;-</span> diamonds2 <span class="sc">|&gt;</span> </span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cut =</span> <span class="fu">factor</span>(cut,</span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Fair"</span>, <span class="st">"Good"</span>, <span class="st">"Very Good"</span>, <span class="st">"Ideal"</span>, <span class="st">"Premium"</span>),</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>                      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Gross"</span>, <span class="st">"Icky"</span>, <span class="st">"Okay-ish"</span>, <span class="st">"Meh"</span>, <span class="st">"Sparkly"</span>)))</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>diamonds2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   carat cut      color clarity depth table price     x     y     z
   &lt;dbl&gt; &lt;ord&gt;    &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  0.23 Meh      E     SI2      61.5    55   326  3.95  3.98  2.43
 2  0.21 Sparkly  E     SI1      59.8    61   326  3.89  3.84  2.31
 3  0.23 Icky     E     VS1      56.9    65   327  4.05  4.07  2.31
 4  0.29 Sparkly  I     VS2      62.4    58   334  4.2   4.23  2.63
 5  0.31 Icky     J     SI2      63.3    58   335  4.34  4.35  2.75
 6  0.24 Okay-ish J     VVS2     62.8    57   336  3.94  3.96  2.48
 7  0.24 Okay-ish I     VVS1     62.3    57   336  3.95  3.98  2.47
 8  0.26 Okay-ish H     SI1      61.9    55   337  4.07  4.11  2.53
 9  0.22 Gross    E     VS2      65.1    61   337  3.87  3.78  2.49
10  0.23 Okay-ish H     VS1      59.4    61   338  4     4.05  2.39
# ℹ 53,930 more rows</code></pre>
</div>
</div>
</section>
<section id="renaming-columns" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="renaming-columns"><span class="header-section-number">7.2</span> Renaming columns</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename variables by defining the new name first, then the old</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="sc">|&gt;</span> </span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"slice"</span> <span class="ot">=</span> <span class="st">"cut"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   carat slice    color clarity depth table price     x     y     z
   &lt;dbl&gt; &lt;ord&gt;    &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  0.23 Meh      E     SI2      61.5    55   326  3.95  3.98  2.43
 2  0.21 Sparkly  E     SI1      59.8    61   326  3.89  3.84  2.31
 3  0.23 Icky     E     VS1      56.9    65   327  4.05  4.07  2.31
 4  0.29 Sparkly  I     VS2      62.4    58   334  4.2   4.23  2.63
 5  0.31 Icky     J     SI2      63.3    58   335  4.34  4.35  2.75
 6  0.24 Okay-ish J     VVS2     62.8    57   336  3.94  3.96  2.48
 7  0.24 Okay-ish I     VVS1     62.3    57   336  3.95  3.98  2.47
 8  0.26 Okay-ish H     SI1      61.9    55   337  4.07  4.11  2.53
 9  0.22 Gross    E     VS2      65.1    61   337  3.87  3.78  2.49
10  0.23 Okay-ish H     VS1      59.4    61   338  4     4.05  2.39
# ℹ 53,930 more rows</code></pre>
</div>
</div>
</section>
<section id="reordering-columns" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="reordering-columns"><span class="header-section-number">7.3</span> Reordering columns</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The select function will always pull variables in the order you define</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="sc">|&gt;</span> </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cut, clarity, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   cut      clarity carat color depth table price     x     y     z
   &lt;ord&gt;    &lt;ord&gt;   &lt;dbl&gt; &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 Meh      SI2      0.23 E      61.5    55   326  3.95  3.98  2.43
 2 Sparkly  SI1      0.21 E      59.8    61   326  3.89  3.84  2.31
 3 Icky     VS1      0.23 E      56.9    65   327  4.05  4.07  2.31
 4 Sparkly  VS2      0.29 I      62.4    58   334  4.2   4.23  2.63
 5 Icky     SI2      0.31 J      63.3    58   335  4.34  4.35  2.75
 6 Okay-ish VVS2     0.24 J      62.8    57   336  3.94  3.96  2.48
 7 Okay-ish VVS1     0.24 I      62.3    57   336  3.95  3.98  2.47
 8 Okay-ish SI1      0.26 H      61.9    55   337  4.07  4.11  2.53
 9 Gross    VS2      0.22 E      65.1    61   337  3.87  3.78  2.49
10 Okay-ish VS1      0.23 H      59.4    61   338  4     4.05  2.39
# ℹ 53,930 more rows</code></pre>
</div>
</div>
</section>
<section id="selecting-filtering-and-arranging" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="selecting-filtering-and-arranging"><span class="header-section-number">7.4</span> Selecting, Filtering, and Arranging</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can combine selecting, filtering, and arranging using pipes</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="sc">|&gt;</span> </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cut, price) <span class="sc">|&gt;</span> </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(cut <span class="sc">==</span> <span class="st">"Okay-ish"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(price))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12,082 × 2
   cut      price
   &lt;ord&gt;    &lt;int&gt;
 1 Okay-ish 18818
 2 Okay-ish 18803
 3 Okay-ish 18781
 4 Okay-ish 18777
 5 Okay-ish 18759
 6 Okay-ish 18741
 7 Okay-ish 18731
 8 Okay-ish 18709
 9 Okay-ish 18692
10 Okay-ish 18691
# ℹ 12,072 more rows</code></pre>
</div>
</div>
</section>
<section id="re-coding-values" class="level3" data-number="7.5">
<h3 data-number="7.5" class="anchored" data-anchor-id="re-coding-values"><span class="header-section-number">7.5</span> Re-coding values</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Recoding values can change the value to something more useful</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>diamonds2<span class="sc">$</span>color <span class="ot">&lt;-</span> diamonds2<span class="sc">$</span>color <span class="sc">|&gt;</span> </span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">recode</span>(<span class="st">"E"</span> <span class="ot">=</span> <span class="st">"blue"</span>)</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>diamonds2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   carat cut      color clarity depth table price     x     y     z
   &lt;dbl&gt; &lt;ord&gt;    &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  0.23 Meh      blue  SI2      61.5    55   326  3.95  3.98  2.43
 2  0.21 Sparkly  blue  SI1      59.8    61   326  3.89  3.84  2.31
 3  0.23 Icky     blue  VS1      56.9    65   327  4.05  4.07  2.31
 4  0.29 Sparkly  I     VS2      62.4    58   334  4.2   4.23  2.63
 5  0.31 Icky     J     SI2      63.3    58   335  4.34  4.35  2.75
 6  0.24 Okay-ish J     VVS2     62.8    57   336  3.94  3.96  2.48
 7  0.24 Okay-ish I     VVS1     62.3    57   336  3.95  3.98  2.47
 8  0.26 Okay-ish H     SI1      61.9    55   337  4.07  4.11  2.53
 9  0.22 Gross    blue  VS2      65.1    61   337  3.87  3.78  2.49
10  0.23 Okay-ish H     VS1      59.4    61   338  4     4.05  2.39
# ℹ 53,930 more rows</code></pre>
</div>
</div>
</section>
<section id="changing-data-with-mutate" class="level3" data-number="7.6">
<h3 data-number="7.6" class="anchored" data-anchor-id="changing-data-with-mutate"><span class="header-section-number">7.6</span> Changing data with mutate</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mutate can create a new variable, or change an existing one</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="sc">|&gt;</span> </span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">carrot =</span> carat) <span class="sc">|&gt;</span> </span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">carat =</span> <span class="fu">mean</span>(carat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 11
   carat cut      color clarity depth table price     x     y     z carrot
   &lt;dbl&gt; &lt;ord&gt;    &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
 1 0.798 Meh      blue  SI2      61.5    55   326  3.95  3.98  2.43   0.23
 2 0.798 Sparkly  blue  SI1      59.8    61   326  3.89  3.84  2.31   0.21
 3 0.798 Icky     blue  VS1      56.9    65   327  4.05  4.07  2.31   0.23
 4 0.798 Sparkly  I     VS2      62.4    58   334  4.2   4.23  2.63   0.29
 5 0.798 Icky     J     SI2      63.3    58   335  4.34  4.35  2.75   0.31
 6 0.798 Okay-ish J     VVS2     62.8    57   336  3.94  3.96  2.48   0.24
 7 0.798 Okay-ish I     VVS1     62.3    57   336  3.95  3.98  2.47   0.24
 8 0.798 Okay-ish H     SI1      61.9    55   337  4.07  4.11  2.53   0.26
 9 0.798 Gross    blue  VS2      65.1    61   337  3.87  3.78  2.49   0.22
10 0.798 Okay-ish H     VS1      59.4    61   338  4     4.05  2.39   0.23
# ℹ 53,930 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mutate can be combined with other functions to make life easier</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="sc">|&gt;</span> </span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   carat cut      color clarity depth table price     x     y     z
   &lt;dbl&gt; &lt;ord&gt;    &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 0.798 Meh      blue  SI2      61.7  57.5 3933.  5.73  5.73  3.54
 2 0.798 Sparkly  blue  SI1      61.7  57.5 3933.  5.73  5.73  3.54
 3 0.798 Icky     blue  VS1      61.7  57.5 3933.  5.73  5.73  3.54
 4 0.798 Sparkly  I     VS2      61.7  57.5 3933.  5.73  5.73  3.54
 5 0.798 Icky     J     SI2      61.7  57.5 3933.  5.73  5.73  3.54
 6 0.798 Okay-ish J     VVS2     61.7  57.5 3933.  5.73  5.73  3.54
 7 0.798 Okay-ish I     VVS1     61.7  57.5 3933.  5.73  5.73  3.54
 8 0.798 Okay-ish H     SI1      61.7  57.5 3933.  5.73  5.73  3.54
 9 0.798 Gross    blue  VS2      61.7  57.5 3933.  5.73  5.73  3.54
10 0.798 Okay-ish H     VS1      61.7  57.5 3933.  5.73  5.73  3.54
# ℹ 53,930 more rows</code></pre>
</div>
</div>
</section>
<section id="conditional-changes-with-ifelse" class="level3" data-number="7.7">
<h3 data-number="7.7" class="anchored" data-anchor-id="conditional-changes-with-ifelse"><span class="header-section-number">7.7</span> Conditional changes with ifelse</h3>
<p>“ifelse” takes a condition you define as the “test” argument, and if the value meets those conditions it alters the value as you define it with the “yes” argument. If the value does not meet those conditions, it alters the value based upon how you defined the “no” argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="sc">|&gt;</span> </span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">price =</span> (<span class="fu">ifelse</span>(</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">test =</span> price <span class="sc">&gt;=</span> <span class="fu">median</span>(price), </span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">yes =</span> <span class="st">"Can't Afford"</span>, </span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">no =</span> <span class="st">"Still Can't Afford"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   carat cut      color clarity depth table price                  x     y     z
   &lt;dbl&gt; &lt;ord&gt;    &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;              &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  0.23 Meh      blue  SI2      61.5    55 Still Can't Afford  3.95  3.98  2.43
 2  0.21 Sparkly  blue  SI1      59.8    61 Still Can't Afford  3.89  3.84  2.31
 3  0.23 Icky     blue  VS1      56.9    65 Still Can't Afford  4.05  4.07  2.31
 4  0.29 Sparkly  I     VS2      62.4    58 Still Can't Afford  4.2   4.23  2.63
 5  0.31 Icky     J     SI2      63.3    58 Still Can't Afford  4.34  4.35  2.75
 6  0.24 Okay-ish J     VVS2     62.8    57 Still Can't Afford  3.94  3.96  2.48
 7  0.24 Okay-ish I     VVS1     62.3    57 Still Can't Afford  3.95  3.98  2.47
 8  0.26 Okay-ish H     SI1      61.9    55 Still Can't Afford  4.07  4.11  2.53
 9  0.22 Gross    blue  VS2      65.1    61 Still Can't Afford  3.87  3.78  2.49
10  0.23 Okay-ish H     VS1      59.4    61 Still Can't Afford  4     4.05  2.39
# ℹ 53,930 more rows</code></pre>
</div>
</div>
<p>Use “case_when” for multiple conditions at once. Note the syntax is different. The condition is on the left side of the ~ and if TRUE the values will be replaced by the right side of the ~. The final arugment “TRUE” specifies that if a value did not meet any of the conditions above, then replace it with whatever is right of the final ~.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>diamonds2 <span class="sc">|&gt;</span> </span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">price =</span> <span class="fu">case_when</span>(</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  price <span class="sc">&lt;</span> <span class="fu">quantile</span>(price, <span class="at">probs =</span> <span class="fl">0.33</span>) <span class="sc">~</span> <span class="st">"FREE"</span>,</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  price <span class="sc">&lt;</span> <span class="fu">quantile</span>(price, <span class="at">probs =</span> <span class="fl">0.66</span>) <span class="sc">~</span> <span class="st">"BUY NOW"</span>,</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>  price <span class="sc">&lt;</span> <span class="fu">quantile</span>(price, <span class="at">probs =</span> <span class="dv">1</span>) <span class="sc">~</span> <span class="st">"SELL NOW"</span>,</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>  <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"NA"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   carat cut      color clarity depth table price     x     y     z
   &lt;dbl&gt; &lt;ord&gt;    &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1  0.23 Meh      blue  SI2      61.5    55 FREE   3.95  3.98  2.43
 2  0.21 Sparkly  blue  SI1      59.8    61 FREE   3.89  3.84  2.31
 3  0.23 Icky     blue  VS1      56.9    65 FREE   4.05  4.07  2.31
 4  0.29 Sparkly  I     VS2      62.4    58 FREE   4.2   4.23  2.63
 5  0.31 Icky     J     SI2      63.3    58 FREE   4.34  4.35  2.75
 6  0.24 Okay-ish J     VVS2     62.8    57 FREE   3.94  3.96  2.48
 7  0.24 Okay-ish I     VVS1     62.3    57 FREE   3.95  3.98  2.47
 8  0.26 Okay-ish H     SI1      61.9    55 FREE   4.07  4.11  2.53
 9  0.22 Gross    blue  VS2      65.1    61 FREE   3.87  3.78  2.49
10  0.23 Okay-ish H     VS1      59.4    61 FREE   4     4.05  2.39
# ℹ 53,930 more rows</code></pre>
</div>
</div>
</section>
<section id="applying-changes-across-a-dataset" class="level3" data-number="7.8">
<h3 data-number="7.8" class="anchored" data-anchor-id="applying-changes-across-a-dataset"><span class="header-section-number">7.8</span> Applying changes across a dataset</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can use a for loop for monotonous tasks like replacing every value with SPAM</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(diamonds2)) {</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  diamonds2[[i]] <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"SPAM"</span>)</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>diamonds2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   carat cut   color clarity depth table price x     y     z    
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
 1 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
 2 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
 3 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
 4 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
 5 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
 6 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
 7 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
 8 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
 9 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
10 SPAM  SPAM  SPAM  SPAM    SPAM  SPAM  SPAM  SPAM  SPAM  SPAM 
# ℹ 53,930 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also use maps in a similar way, turning every value lower case</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">map_df</span>(diamonds2, tolower)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53,940 × 10
   carat cut   color clarity depth table price x     y     z    
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
 1 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
 2 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
 3 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
 4 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
 5 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
 6 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
 7 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
 8 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
 9 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
10 spam  spam  spam  spam    spam  spam  spam  spam  spam  spam 
# ℹ 53,930 more rows</code></pre>
</div>
</div>
</section>
<section id="reshaping-using-pivots" class="level3" data-number="7.9">
<h3 data-number="7.9" class="anchored" data-anchor-id="reshaping-using-pivots"><span class="header-section-number">7.9</span> Reshaping using pivots</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a data frame from class</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>stocks <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">time =</span> <span class="fu">as.Date</span>(<span class="st">'2009-01-01'</span>) <span class="sc">+</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">9</span>,</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">X =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">Y =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">2</span>),</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">Z =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="dv">0</span>, <span class="dv">4</span>)</span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Select which columns to pivot longer with “cols”. The names of those columns will then go into a new column specified under “names_to”. The values within the old columns will go into their own new column specified with “values_to”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>stocks <span class="ot">&lt;-</span> stocks <span class="sc">|&gt;</span> </span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(X, Y, Z),</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"stonks"</span>,</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"price"</span>)</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>stocks</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 3
   time       stonks   price
   &lt;date&gt;     &lt;chr&gt;    &lt;dbl&gt;
 1 2009-01-01 X       0.833 
 2 2009-01-01 Y       0.675 
 3 2009-01-01 Z      -3.33  
 4 2009-01-02 X       0.437 
 5 2009-01-02 Y       3.25  
 6 2009-01-02 Z       1.49  
 7 2009-01-03 X       0.0695
 8 2009-01-03 Y      -1.35  
 9 2009-01-03 Z      -5.07  
10 2009-01-04 X       1.23  
# ℹ 20 more rows</code></pre>
</div>
</div>
<p>Similarly in pivot_wider, the “names_from” will take the values of whatever column you choose and create new columns for every value within. In this case, the new columns will be called X, Y, and Z. The “values_from” argument will take every value from the column you choose and fill the new columns created by “names_from” with those values. In this case, the associated price will be listed under each of X, Y, and Z.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>stocks <span class="ot">&lt;-</span> stocks <span class="sc">|&gt;</span> </span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> stonks,</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> price)</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>stocks</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   time             X      Y      Z
   &lt;date&gt;       &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
 1 2009-01-01  0.833   0.675 -3.33 
 2 2009-01-02  0.437   3.25   1.49 
 3 2009-01-03  0.0695 -1.35  -5.07 
 4 2009-01-04  1.23    1.20   3.52 
 5 2009-01-05  0.295  -0.762 -5.22 
 6 2009-01-06 -0.421   2.22   5.20 
 7 2009-01-07  0.999  -3.68  -1.26 
 8 2009-01-08 -2.07    2.97   4.94 
 9 2009-01-09  0.330   0.631 -3.71 
10 2009-01-10 -1.36   -3.45  -0.408</code></pre>
</div>
</div>
</section>
</section>
<section id="describing-and-summarizing-data" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="describing-and-summarizing-data"><span class="header-section-number">8</span> Describing and Summarizing Data</h2>
<p>These steps are beginning to get more and more self-explanatory. The goal here is to use descriptive statistics to “describe” the data that we want to analyze. Shocking, I know. The statistics we’re looking for describe the range/spread, centrality, and variance of the data. These statistics can be summarized using the usual summary function, but also by using tables.</p>
<p>And now functions:</p>
<section id="range-and-spread" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="range-and-spread"><span class="header-section-number">8.1</span> Range and spread</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the lowest and highest value </span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.20 5.01</code></pre>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the lowest value</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the highest value</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.01</code></pre>
</div>
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a summary of your choosing </span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cut) <span class="sc">|&gt;</span> </span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">meanPrice =</span> <span class="fu">mean</span>(price)) <span class="sc">|&gt;</span> </span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span><span class="fu">desc</span>(meanPrice))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 2
  cut       meanPrice
  &lt;ord&gt;         &lt;dbl&gt;
1 Ideal         3458.
2 Good          3929.
3 Very Good     3982.
4 Fair          4359.
5 Premium       4584.</code></pre>
</div>
</div>
</section>
<section id="centrality" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="centrality"><span class="header-section-number">8.2</span> Centrality</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the average </span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7979397</code></pre>
</div>
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the median </span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View a large summary with quantiles and medians for continuous data</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.2000  0.4000  0.7000  0.7979  1.0400  5.0100 </code></pre>
</div>
</div>
</section>
<section id="variance-and-standard-deviation" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="variance-and-standard-deviation"><span class="header-section-number">8.3</span> Variance and standard deviation</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the variance </span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2246867</code></pre>
</div>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the standard deviation</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.4740112</code></pre>
</div>
</div>
</section>
</section>
<section id="visualizing-data" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="visualizing-data"><span class="header-section-number">9</span> Visualizing Data</h2>
<p>Obviously this refers to plots, which means ggplot2 is coming. We want to tell a story with our data, and that comes from visualization. It becomes more and more difficult as you progress through these sections to be able to explain exactly what to do, as by this point your data is already unique to you. What I can do, is to help decide which plot to use depending on the types of variables that you’re left with at this point.</p>
<p>Below is a list of scenarios and some options for which plots to use:</p>
<section id="single-numerical-variable-only" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="single-numerical-variable-only"><span class="header-section-number">9.1</span> Single numerical variable only</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a histogram</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> carat)) <span class="sc">+</span></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"orange"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span><span class="st">"Histogram"</span>, <span class="at">x =</span> <span class="st">"Carrot"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a density plot</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(price))) <span class="sc">+</span></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">"pink"</span>) <span class="sc">+</span></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Dense"</span>, <span class="at">x =</span> <span class="st">"Cost"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>) <span class="sc">+</span></span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-35-2.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="single-categorical-only" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="single-categorical-only"><span class="header-section-number">9.2</span> Single categorical only</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a bar plot</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> cut)) <span class="sc">+</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"green"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Bars"</span>, <span class="at">x =</span> <span class="st">"Cuts"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="multiple-categorical-only" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="multiple-categorical-only"><span class="header-section-number">9.3</span> Multiple categorical only</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a stacked bar plot</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">fill =</span> color)) <span class="sc">+</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"stack"</span>) <span class="sc">+</span></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Bars"</span>, <span class="at">x =</span> <span class="st">"Cuts"</span>, <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="one-numerical-and-one-or-more-categorical" class="level3" data-number="9.4">
<h3 data-number="9.4" class="anchored" data-anchor-id="one-numerical-and-one-or-more-categorical"><span class="header-section-number">9.4</span> One numerical and one or more categorical</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a box plot</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> cut, <span class="at">y =</span> <span class="fu">log</span>(price), <span class="at">fill =</span> cut)) <span class="sc">+</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Boxes"</span>, <span class="at">x =</span> <span class="st">"Cut"</span>, <span class="at">y =</span> <span class="st">"log(price)"</span>) <span class="sc">+</span></span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> clarity) <span class="sc">+</span></span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="one-or-more-numerical-and-one-or-more-categorical" class="level3" data-number="9.5">
<h3 data-number="9.5" class="anchored" data-anchor-id="one-or-more-numerical-and-one-or-more-categorical"><span class="header-section-number">9.5</span> One or more numerical and one or more categorical</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates a scatterplot</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(carat), <span class="at">y =</span> price, <span class="at">color =</span> cut)) <span class="sc">+</span></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Points"</span>, <span class="at">x =</span> <span class="st">"log(carat)"</span>, <span class="at">y =</span> <span class="st">"Price"</span>) <span class="sc">+</span></span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span> </span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_continuous</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Cheat-Sheet-Quarto2_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
<section id="analyzing-data" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="analyzing-data"><span class="header-section-number">10</span> Analyzing Data</h2>
<p>Finally. The end. Both of writing this guide, but also of your quest for usable data. Analyzing data is the generally the end goal of everything. We form a research question, and use analysis to get some insight on the question. There are as many different analyses as you can think of, then there will be even more because someone probably invented one while you were counting. I’ll only list the few we’ve gone over in class. What’s important when deciding which analysis to use is to make sure you understand the assumptions behind every test, and which test applies to which combinations of variables.</p>
<p>We’ll start with the T-Test:</p>
<section id="t-test" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="t-test"><span class="header-section-number">10.1</span> T-Test</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(diamonds<span class="sc">$</span>carat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  diamonds$carat
t = 390.96, df = 53939, p-value &lt; 2.2e-16
alternative hypothesis: true mean is not equal to 0
95 percent confidence interval:
 0.7939395 0.8019400
sample estimates:
mean of x 
0.7979397 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(diamonds, <span class="fu">t.test</span>(carat, price, <span class="at">alternative =</span> <span class="st">"two.sided"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Welch Two Sample t-test

data:  carat and price
t = -228.91, df = 53939, p-value &lt; 2.2e-16
alternative hypothesis: true difference in means is not equal to 0
95 percent confidence interval:
 -3965.670 -3898.334
sample estimates:
   mean of x    mean of y 
   0.7979397 3932.7997219 </code></pre>
</div>
</div>
<p>Assumptions:</p>
<ol type="1">
<li>Data is randomly distributed</li>
<li>Data is continuous or 2 level categorical</li>
<li>Homogeneity of variance</li>
<li>Distribution is approximately normal/ t-distribution</li>
</ol>
</section>
<section id="anova" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="anova"><span class="header-section-number">10.2</span> ANOVA</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(diamonds, <span class="fu">lm</span>(price <span class="sc">~</span> cut)) <span class="sc">|&gt;</span> </span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = price ~ cut)

Residuals:
   Min     1Q Median     3Q    Max 
 -4258  -2741  -1494   1360  15348 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  4062.24      25.40 159.923  &lt; 2e-16 ***
cut.L        -362.73      68.04  -5.331  9.8e-08 ***
cut.Q        -225.58      60.65  -3.719    2e-04 ***
cut.C        -699.50      52.78 -13.253  &lt; 2e-16 ***
cut^4        -280.36      42.56  -6.588  4.5e-11 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3964 on 53935 degrees of freedom
Multiple R-squared:  0.01286,   Adjusted R-squared:  0.01279 
F-statistic: 175.7 on 4 and 53935 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(diamonds, <span class="fu">aov</span>(price <span class="sc">~</span> clarity)) <span class="sc">|&gt;</span> </span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Df    Sum Sq   Mean Sq F value Pr(&gt;F)    
clarity         7 2.331e+10 3.330e+09     215 &lt;2e-16 ***
Residuals   53932 8.352e+11 1.549e+07                   
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Assumptions:</p>
<ol type="1">
<li>Normal distribution</li>
<li>Homogeneity of variance</li>
<li>Independent observations</li>
</ol>
</section>
<section id="linear-regressions" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="linear-regressions"><span class="header-section-number">10.3</span> Linear Regressions</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(diamonds, <span class="fu">lm</span>(price <span class="sc">~</span> carat <span class="sc">+</span> cut <span class="sc">+</span> color)) <span class="sc">|&gt;</span> </span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = price ~ carat + cut + color)

Residuals:
     Min       1Q   Median       3Q      Max 
-17313.9   -751.2    -83.9    543.6  12273.0 

Coefficients:
            Estimate Std. Error  t value Pr(&gt;|t|)    
(Intercept) -3149.82      15.76 -199.905  &lt; 2e-16 ***
carat        8183.74      13.90  588.885  &lt; 2e-16 ***
cut.L        1243.35      24.74   50.260  &lt; 2e-16 ***
cut.Q        -531.75      21.93  -24.252  &lt; 2e-16 ***
cut.C         372.06      19.16   19.417  &lt; 2e-16 ***
cut^4          76.15      15.39    4.949 7.49e-07 ***
color.L     -1579.17      21.72  -72.699  &lt; 2e-16 ***
color.Q      -732.85      19.86  -36.902  &lt; 2e-16 ***
color.C      -107.41      18.64   -5.763 8.32e-09 ***
color^4        81.63      17.12    4.769 1.85e-06 ***
color^5      -138.64      16.18   -8.568  &lt; 2e-16 ***
color^6      -161.09      14.68  -10.973  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1432 on 53928 degrees of freedom
Multiple R-squared:  0.8711,    Adjusted R-squared:  0.8711 
F-statistic: 3.315e+04 on 11 and 53928 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Assumptions:</p>
<ol type="1">
<li>There should be a linear relationship between variables</li>
<li>Independent variables should not be correlated</li>
<li>Multivariate normality</li>
<li>Homogeneity of variance</li>
<li>No multicollinearity of variables</li>
</ol>
</section>
<section id="chi-square-test" class="level3" data-number="10.4">
<h3 data-number="10.4" class="anchored" data-anchor-id="chi-square-test"><span class="header-section-number">10.4</span> Chi-Square test</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(diamonds, <span class="fu">chisq.test</span>(<span class="fu">table</span>(cut)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Chi-squared test for given probabilities

data:  table(cut)
X-squared = 22745, df = 4, p-value &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>diamonds <span class="sc">|&gt;</span> </span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cut, clarity) <span class="sc">|&gt;</span> </span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>() <span class="sc">|&gt;</span> </span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">chisq.test</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's Chi-squared test

data:  table(select(diamonds, cut, clarity))
X-squared = 4391.4, df = 28, p-value &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Assumptions:</p>
<ol type="1">
<li>Data in cells should be frequencies</li>
<li>Expected frequencies must be greater than 5 per cell in 80% of cells</li>
<li>Levels within variables must be mutually exclusive</li>
<li>Each observation can only contribute to a single cell</li>
<li>Groups must be independent</li>
<li>Data must be categorical or ordinal</li>
</ol>
</section>
<section id="logistic-regression" class="level3" data-number="10.5">
<h3 data-number="10.5" class="anchored" data-anchor-id="logistic-regression"><span class="header-section-number">10.5</span> Logistic Regression</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>new.diamonds <span class="ot">&lt;-</span> diamonds <span class="sc">|&gt;</span> </span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">binary =</span> <span class="fu">sample</span>(<span class="fu">rep</span>(<span class="fu">c</span>(F, T)), </span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">size =</span> <span class="fu">nrow</span>(diamonds), </span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">replace =</span> T))</span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a><span class="fu">with</span>(new.diamonds, <span class="fu">glm</span>(binary <span class="sc">~</span> cut <span class="sc">+</span> price, <span class="at">family =</span> binomial)) <span class="sc">|&gt;</span> </span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = binary ~ cut + price, family = binomial)

Coefficients:
              Estimate Std. Error z value Pr(&gt;|z|)  
(Intercept)  3.160e-03  1.556e-02   0.203   0.8391  
cut.L       -2.353e-02  3.435e-02  -0.685   0.4934  
cut.Q        3.623e-02  3.061e-02   1.183   0.2366  
cut.C       -6.185e-02  2.668e-02  -2.318   0.0204 *
cut^4        2.349e-02  2.149e-02   1.093   0.2742  
price       -1.741e-06  2.173e-06  -0.801   0.4230  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 74776  on 53939  degrees of freedom
Residual deviance: 74770  on 53934  degrees of freedom
AIC: 74782

Number of Fisher Scoring iterations: 3</code></pre>
</div>
</div>
<p>Assumptions:</p>
<ol type="1">
<li>Binary logistic regression requires a binary dependent variable</li>
<li>Ordinal logistic regression requires (gasp) an ordinal dependent variable</li>
<li>Observations must be disjoint</li>
<li>Little to no multicollinearity among independent variables</li>
<li>Assumes linearity of independent variables and log odds, but not linearity of independent variables with dependent variable</li>
<li>Expected probability of all independent variables must be at least 10%</li>
</ol>
</section>
</section>
<section id="conclusion" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">11</span> Conclusion</h2>
<p>There is no conclusion. This is not a complete collection nor a guarantee of success with anything you might be doing. This is a random assortment of R-related functions to hopefully get us started. You may use everything in this guide, you may use nothing. Either way, this document should provide a framework to build upon throughout your struggles with data. So in conclusion, that is all.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>